#!/bin/bash

SCRIPTPATH="$( cd "$(dirname "$0")" ; pwd -P )"
PROJECTPATH="$( cd $SCRIPTPATH && cd ..; pwd -P )"

source "$PROJECTPATH/tools/check_for_update.sh"

if [ $# -eq 0 ] || [ $1 == 'all' ]; then
    # pulling all images already present from docker hub
    docker images --filter=reference='totara/docker-dev-*' --format "{{.Repository}}" | xargs -I % sh -c 'docker pull %'
else
    $SCRIPTPATH/tdocker pull "$@"
fi
